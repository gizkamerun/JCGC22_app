"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9616],{9616:(k,u,h)=>{h.d(u,{L:()=>m});var d=h(1086),c=h(4850),f=h(9863),E=h(520),_=h(6401);let m=(()=>{class p{constructor(e,a){this.http=e,this.user=a}load(){return this.data?(0,d.of)(this.data):this.http.get("assets/data/data.json").pipe((0,c.U)(this.processData,this))}processData(e){return this.data=e,this.data.schedule.forEach(a=>{a.groups.forEach(n=>{n.sessions.forEach(s=>{s.speakers=[],s.speakerNames&&s.speakerNames.forEach(r=>{const t=this.data.speakers.find(i=>i.name===r);t&&(s.speakers.push(t),t.sessions=t.sessions||[],t.sessions.push(s))})})})}),this.data}getTimeline(e,a="",n=[],s="all"){return this.load().pipe((0,c.U)(r=>{const t=r.schedule[e];t.shownSessions=0;const i=(a=a.toLowerCase().replace(/,|\.|-/g," ")).split(" ").filter(o=>!!o.trim().length);return t.groups.forEach(o=>{o.hide=!0,o.sessions.forEach(l=>{this.filterSession(l,i,n,s),l.hide||(o.hide=!1,t.shownSessions++)})}),t}))}filterSession(e,a,n,s){let r=!1;a.length?a.forEach(o=>{e.name.toLowerCase().indexOf(o)>-1&&(r=!0)}):r=!0;let t=!1;e.tracks.forEach(o=>{-1===n.indexOf(o)&&(t=!0)});let i=!1;"favorites"===s?this.user.hasFavorite(e.name)&&(i=!0):i=!0,e.hide=!(r&&t&&i)}getSpeakers(){return this.load().pipe((0,c.U)(e=>e.speakers.sort((a,n)=>{const s=a.name.split(" ").pop(),r=n.name.split(" ").pop();return s.localeCompare(r)})))}getTracks(){return this.load().pipe((0,c.U)(e=>e.tracks.sort()))}getMap(){return this.load().pipe((0,c.U)(e=>e.map))}}return p.\u0275fac=function(e){return new(e||p)(f.LFG(E.eN),f.LFG(_.m))},p.\u0275prov=f.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})()}}]);